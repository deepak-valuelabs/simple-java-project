pipeline {
  agent any
  stages {
    stage('checkout the code') {
      steps {
        checkout scm
      }
    }
    stage ("build my code") {
      steps {
        echo "running compile for my code"
        sh "mvn compile"
      }
    }
    stage ("test my code") {
      if (Testrun == "true") {
        sh "mvn test"
        }
        else {
          sh "test is not enabled"
          }
    }
    stage ("package my code") {
      steps {
        sh "mvn package"
      }
    }
  }
}
